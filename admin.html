<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>관리자</title>

<style>
body{
font-family:Arial;
background:#f4f6f9;
padding:40px;
}

input,select{
padding:8px;
margin:5px;
width:300px;
}

button{
padding:8px 14px;
margin:5px;
cursor:pointer;
}

.site{
background:white;
padding:15px;
margin:10px 0;
border-radius:8px;
}

</style>
</head>

<body>

<div id="login">
<h2>관리자 로그인</h2>
<input id="pw" type="password">
<button onclick="check()">입장</button>
</div>

<div id="admin" style="display:none">

<h2>사이트 추가</h2>

<input id="name" placeholder="사이트 이름"><br>
<input id="url" placeholder="URL"><br>

<select id="category"></select><br>

<select id="icon">
<option value="https://cdn-icons-png.flaticon.com/512/25/25694.png">포털</option>
<option value="https://cdn-icons-png.flaticon.com/512/1828/1828919.png">차트</option>
<option value="https://cdn-icons-png.flaticon.com/512/2991/2991148.png">병원</option>
<option value="https://cdn-icons-png.flaticon.com/512/3523/3523063.png">문서</option>
<option value="https://cdn-icons-png.flaticon.com/512/888/888879.png">설정</option>
<option value="https://cdn-icons-png.flaticon.com/512/2920/2920349.png">통계</option>
<option value="https://cdn-icons-png.flaticon.com/512/1034/1034131.png">웹</option>
<option value="https://cdn-icons-png.flaticon.com/512/3064/3064197.png">DB</option>
<option value="https://cdn-icons-png.flaticon.com/512/3135/3135715.png">사용자</option>
<option value="https://cdn-icons-png.flaticon.com/512/3524/3524659.png">즐겨찾기</option>
</select><br>

<button onclick="addSite()">추가</button>

<h2>카테고리</h2>

<input id="newCat">
<button onclick="addCat()">추가</button>

<div id="catList"></div>

<h2>사이트 목록</h2>
<div id="siteList"></div>

</div>

<script>

function check(){
if(document.getElementById("pw").value==="진설김윤식"){
document.getElementById("login").style.display="none"
document.getElementById("admin").style.display="block"
load()
}
}

let sites=[]
let categories=[]

function load(){
sites=JSON.parse(localStorage.getItem("sites")||"[]")
categories=JSON.parse(localStorage.getItem("categories")||'["전체"]')
draw()
}

function save(){
localStorage.setItem("sites",JSON.stringify(sites))
localStorage.setItem("categories",JSON.stringify(categories))
draw()
}

function draw(){

let catSel=document.getElementById("category")
catSel.innerHTML=""
categories.forEach(c=>{
catSel.innerHTML+=`<option>${c}</option>`
})

let catList=document.getElementById("catList")
catList.innerHTML=""
categories.forEach((c,i)=>{
if(c==="전체")return
catList.innerHTML+=`
<div>
${c}
<button onclick="delCat(${i})">삭제</button>
</div>`
})

let siteList=document.getElementById("siteList")
siteList.innerHTML=""
sites.forEach((s,i)=>{
siteList.innerHTML+=`
<div class="site">
${s.name} (${s.category})
<button onclick="edit(${i})">수정</button>
<button onclick="del(${i})">삭제</button>
</div>`
})

}

function addSite(){
let s={
name:name.value,
url:url.value,
category:category.value,
icon:icon.value
}
sites.push(s)
save()
}

function del(i){
sites.splice(i,1)
save()
}

function edit(i){
let s=sites[i]
let n=prompt("이름",s.name)
let u=prompt("URL",s.url)
if(!n||!u)return
s.name=n
s.url=u
save()
}

function addCat(){
categories.push(newCat.value)
save()
}

function delCat(i){
categories.splice(i,1)
save()
}

</script>

</body>
</html>
