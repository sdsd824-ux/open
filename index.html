<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ÏßÅÏõê ÏÇ¨Ïù¥Ìä∏</title>

<style>
body{
font-family: Arial;
background:#f5f6fa;
margin:0;
padding:40px;
}

.top{
display:flex;
gap:10px;
margin-bottom:30px;
}

#search{
flex:1;
padding:14px;
font-size:16px;
border-radius:8px;
border:1px solid #ccc;
}

#searchBtn{
padding:14px 24px;
font-size:16px;
border:none;
background:#2f80ed;
color:white;
border-radius:8px;
cursor:pointer;
}

.grid{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(240px,1fr));
gap:20px;
}

.card{
background:white;
border-radius:14px;
padding:22px;
box-shadow:0 3px 10px rgba(0,0,0,0.08);
cursor:pointer;
position:relative;
}

.card:hover{
transform:translateY(-3px);
}

.icon{
font-size:32px;
margin-bottom:10px;
}

.name{
font-size:18px;
font-weight:bold;
}

.star{
position:absolute;
right:12px;
top:12px;
cursor:pointer;
font-size:20px;
}
</style>
</head>

<body>

<div class="top">
<input id="search" placeholder="ÏÇ¨Ïù¥Ìä∏ Í≤ÄÏÉâ"/>
<button id="searchBtn">Í≤ÄÏÉâ</button>
</div>

<div class="grid" id="grid"></div>

<script>

const grid=document.getElementById("grid")

function load(){

let data=JSON.parse(localStorage.getItem("sites")||"[]")
let fav=JSON.parse(localStorage.getItem("fav")||"[]")

data.sort((a,b)=>{
return (fav.includes(b.url)?1:0)-(fav.includes(a.url)?1:0)
})

grid.innerHTML=""

data.forEach(site=>{

let card=document.createElement("div")
card.className="card"

card.onclick=()=>{
window.open(site.url,"_blank")
}

let star=document.createElement("div")
star.className="star"
star.innerHTML=fav.includes(site.url)?"‚≠ê":"‚òÜ"

star.onclick=(e)=>{
e.stopPropagation()

if(fav.includes(site.url)){
fav=fav.filter(v=>v!==site.url)
}else{
fav.push(site.url)
}

localStorage.setItem("fav",JSON.stringify(fav))
load()
}

card.innerHTML=`
<div class="icon">${site.icon||"üåê"}</div>
<div class="name">${site.name||site.url}</div>
`

card.appendChild(star)

grid.appendChild(card)

})

}

load()

document.getElementById("searchBtn").onclick=search
document.getElementById("search").onkeyup=(e)=>{
if(e.key==="Enter")search()
}

function search(){

let q=document.getElementById("search").value.toLowerCase()
let cards=document.querySelectorAll(".card")

cards.forEach(c=>{
let text=c.innerText.toLowerCase()
c.style.display=text.includes(q)?"block":"none"
})

}

</script>

</body>
</html>
