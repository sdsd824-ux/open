<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>WORK STATION</title>

<style>

body{
font-family:Arial;
background:#f5f6fa;
margin:0;
padding:40px;
}

.header{
text-align:center;
margin-bottom:35px;
}

.logo{
width:300px;
margin-bottom:50px;
}

.title{
font-size:42px;
font-weight:800;
margin-top:6px;
letter-spacing:1px;
}

.top{
display:flex;
gap:10px;
margin-bottom:20px;
}

#search{
flex:1;
padding:14px;
font-size:16px;
border-radius:8px;
border:1px solid #ccc;
}

#searchBtn{
padding:14px 26px;
font-size:16px;
border:none;
background:#2f80ed;
color:white;
border-radius:8px;
cursor:pointer;
}

.tabs{
margin-bottom:25px;
}

.tab{
display:inline-block;
background:#e4e6eb;
padding:8px 14px;
border-radius:8px;
margin-right:8px;
cursor:pointer;
}

.tab.active{
background:#2f80ed;
color:white;
}

.grid{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(240px,1fr));
gap:20px;
}

.card{
background:white;
border-radius:14px;
padding:22px;
box-shadow:0 3px 10px rgba(0,0,0,0.08);
cursor:pointer;
position:relative;
transition:0.15s;
}

.card:hover{
transform:translateY(-4px);
box-shadow:0 6px 18px rgba(0,0,0,0.1);
}

.icon{
font-size:32px;
margin-bottom:10px;
}

.name{
font-size:18px;
font-weight:bold;
}

.star{
position:absolute;
right:12px;
top:12px;
font-size:20px;
cursor:pointer;
}

</style>
</head>

<body>

<div class="header">

<img src="logo.png" class="logo">

<div class="title">WORK STATION</div>

</div>

<div class="top">
<input id="search" placeholder="ÏÇ¨Ïù¥Ìä∏ Í≤ÄÏÉâ">
<button id="searchBtn">Í≤ÄÏÉâ</button>
</div>

<div class="tabs" id="tabs"></div>

<div class="grid" id="grid"></div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyBzUQt0DydA7W3s7qzYjis6UUFA1b4RjqA",
  authDomain: "open-7d88e.firebaseapp.com",
  projectId: "open-7d88e",
  storageBucket: "open-7d88e.firebasestorage.app",
  messagingSenderId: "359782434518",
  appId: "1:359782434518:web:22ba4a6bfcb5b21a446b77"
};


const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

let currentCategory="Ï†ÑÏ≤¥"

async function load(){

let sites=[]
let cats=[]

let s=await getDocs(collection(db,"sites"))
s.forEach(d=>sites.push(d.data()))

let c=await getDocs(collection(db,"cats"))
c.forEach(d=>cats.push(d.data().name))

if(!cats.includes("Ï†ÑÏ≤¥")) cats.unshift("Ï†ÑÏ≤¥")

renderTabs(cats)

let grid=document.getElementById("grid")
grid.innerHTML=""

sites.forEach(s=>{

if(currentCategory!="Ï†ÑÏ≤¥" && s.category!=currentCategory) return

let card=document.createElement("div")
card.className="card"

card.onclick=()=>window.open(s.url)

card.innerHTML=`
<div class="icon">${s.icon||"üåê"}</div>
<div class="name">${s.name}</div>
`

grid.appendChild(card)

})

}

function renderTabs(cats){

let tabs=document.getElementById("tabs")
tabs.innerHTML=""

cats.forEach(c=>{

let t=document.createElement("div")
t.className="tab"+(c==currentCategory?" active":"")

t.innerText=c

t.onclick=()=>{
currentCategory=c
load()
}

tabs.appendChild(t)

})

}

document.getElementById("searchBtn").onclick=search
document.getElementById("search").onkeyup=e=>{
if(e.key==="Enter")search()
}

function search(){

let q=search.value.toLowerCase()

document.querySelectorAll(".card").forEach(c=>{
c.style.display=c.innerText.toLowerCase().includes(q)?"block":"none"
})

}

load()

</script>

</body>
</html>
