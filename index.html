<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>WORK STATION</title>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyBzUQt0DydA7W3s7qzYjis6UUFA1b4RjqA",
  authDomain: "open-7d88e.firebaseapp.com",
  projectId: "open-7d88e",
  storageBucket: "open-7d88e.firebasestorage.app",
  messagingSenderId: "359782434518",
  appId: "1:359782434518:web:22ba4a6bfcb5b21a446b77"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

async function load(){

let snap=await getDocs(collection(db,"sites"))

let grid=document.getElementById("grid")

snap.forEach(d=>{

let s=d.data()

let card=document.createElement("div")
card.className="card"

card.onclick=()=>window.open(s.url)

card.innerHTML=`
<div class="icon">${s.icon||"üåê"}</div>
<div class="name">${s.name}</div>
`

grid.appendChild(card)

})

}

window.onload=load

</script>

<style>

body{
font-family:Arial;
background:#f5f6fa;
padding:40px;
}

.grid{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(200px,1fr));
gap:20px;
}

.card{
background:white;
padding:20px;
border-radius:10px;
cursor:pointer;
}

.icon{
font-size:30px;
}

.name{
font-weight:bold;
margin-top:5px;
}

</style>
</head>

<body>

<h1>WORK STATION</h1>

<div class="grid" id="grid"></div>

</body>
</html>
