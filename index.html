<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>업무 포털</title>

<style>

body{
font-family:Arial;
background:#f1f3f6;
margin:0;
}

header{
text-align:center;
padding:35px 0 10px;
}

h1{
margin:0;
font-size:34px;
}

.top-right{
position:absolute;
right:40px;
top:40px;
font-size:14px;
color:#444;
}

.container{
width:1400px;
margin:auto;
}

.login-box{
text-align:center;
margin-top:120px;
}

input{
padding:10px;
font-size:15px;
}

button{
padding:10px 16px;
cursor:pointer;
border:none;
background:#2c2c2c;
color:white;
border-radius:6px;
}

.searchWrap{
display:flex;
gap:10px;
margin:30px 0 20px;
}

.search{
flex:1;
height:42px;
font-size:16px;
padding-left:12px;
border-radius:6px;
border:1px solid #ccc;
}

.categories{
margin-bottom:20px;
}

.cat{
display:inline-block;
padding:8px 16px;
background:#e1e4ea;
margin-right:6px;
border-radius:8px;
cursor:pointer;
font-size:14px;
}

.cat:hover{
background:#d5d9e0;
}

.grid{
display:grid;
grid-template-columns:repeat(auto-fill, minmax(260px,1fr));
gap:24px;
}

.card{
background:white;
border-radius:14px;
padding:30px 20px;
text-align:center;
box-shadow:0 4px 12px rgba(0,0,0,0.08);
cursor:pointer;
transition:0.15s;
}

.card:hover{
transform:translateY(-4px);
box-shadow:0 6px 16px rgba(0,0,0,0.12);
}

.card img{
width:60px;
height:60px;
margin-bottom:10px;
}

.siteName{
font-size:17px;
font-weight:bold;
margin-top:6px;
}

.siteCat{
font-size:13px;
color:#777;
margin-top:4px;
}

</style>
</head>

<body>

<div id="loginPage" class="login-box">
<h2>업무 포털 로그인</h2>
<input id="username" placeholder="이름 입력">
<button onclick="login()">로그인</button>
</div>

<div id="main" style="display:none">

<header>
<h1>업무 포털</h1>
</header>

<div class="top-right" id="userInfo"></div>

<div class="container">

<div class="searchWrap">
<input class="search" id="search" placeholder="사이트 검색">
<button onclick="drawSites()">검색</button>
</div>

<div class="categories" id="categories"></div>

<div class="grid" id="sites"></div>

</div>
</div>

<script>

let sites = JSON.parse(localStorage.getItem("sites")||"[]")
let categories = JSON.parse(localStorage.getItem("categories")||'["전체"]')

let currentCategory="전체"

function login(){
let name=document.getElementById("username").value
if(!name)return
localStorage.setItem("user",name)
start()
}

function start(){
let user=localStorage.getItem("user")
if(!user)return

loginPage.style.display="none"
main.style.display="block"

userInfo.innerText="사용자 : "+user

drawCategories()
drawSites()
}

function drawCategories(){

categoriesDiv=document.getElementById("categories")
categoriesDiv.innerHTML=""

categories.forEach(c=>{

let d=document.createElement("span")
d.className="cat"
d.innerText=c

d.onclick=()=>{
currentCategory=c
drawSites()
}

categoriesDiv.appendChild(d)

})

}

function drawSites(){

let search=document.getElementById("search").value.toLowerCase()

sitesWrap=document.getElementById("sites")
sitesWrap.innerHTML=""

sites
.filter(s=>{

if(currentCategory!="전체" && s.category!=currentCategory) return false
if(search && !s.name.toLowerCase().includes(search)) return false

return true
})
.forEach(s=>{

let card=document.createElement("div")
card.className="card"

card.onclick=()=>window.open(s.url)

card.innerHTML=`
<img src="${s.icon}">
<div class="siteName">${s.name}</div>
<div class="siteCat">${s.category}</div>
`

sitesWrap.appendChild(card)

})

}

search.addEventListener("keypress",function(e){
if(e.key==="Enter") drawSites()
})

start()

</script>

</body>
</html>
